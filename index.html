<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CGPA Calculator</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-600 min-h-screen flex items-center justify-center p-4">
  <div class="bg-white rounded-2xl shadow-2xl w-full max-w-3xl p-8 space-y-6">
    <h1 class="text-3xl font-bold text-center text-gray-800">CGPA Calculator</h1>
    <div class="space-y-3 text-gray-700">
      <label class="block font-semibold">Number of Semesters:</label>
      <input type="number" id="semesters" min="1" max="12" value="8" class="border border-gray-300 rounded-lg p-2 w-full" />
      <button onclick="createInputs()" class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg">Generate</button>
    </div>
    <form id="cgpaForm" class="space-y-4"></form>
    <div class="flex justify-between">
      <button onclick="calculateCGPA()" type="button" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg shadow">Calculate</button>
      <button onclick="resetForm()" type="button" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg">Reset</button>
    </div>
    <div id="result" class="text-center text-2xl font-bold text-green-700"></div>
  </div>

  <script>
    function createInputs() {
      const form = document.getElementById('cgpaForm');
      form.innerHTML = '';
      const n = document.getElementById('semesters').value;
      for (let i = 1; i <= n; i++) {
        const div = document.createElement('div');
        div.className = 'bg-gray-100 p-4 rounded-xl shadow-inner space-y-2';
        div.innerHTML = `
          <h2 class='font-semibold text-gray-800'>Semester ${i}</h2>
          <input type='number' step='0.01' placeholder='GPA' class='border p-2 rounded w-full gpa' />
          <input type='number' step='0.1' placeholder='Credit Hours' class='border p-2 rounded w-full credit' />
        `;
        form.appendChild(div);
      }
    }

    function calculateCGPA() {
      const gpas = document.querySelectorAll('.gpa');
      const credits = document.querySelectorAll('.credit');
      let totalPoints = 0, totalCredits = 0;
      for (let i = 0; i < gpas.length; i++) {
        const g = parseFloat(gpas[i].value);
        const c = parseFloat(credits[i].value);
        if (!isNaN(g) && !isNaN(c)) {
          totalPoints += g * c;
          totalCredits += c;
        }
      }
      const resultDiv = document.getElementById('result');
      if (totalCredits === 0) {
        resultDiv.textContent = 'Please enter valid values.';
      } else {
        const cgpa = totalPoints / totalCredits;
        resultDiv.textContent = 'Your CGPA: ' + cgpa.toFixed(2);
      }
    }

    function resetForm() {
      document.getElementById('cgpaForm').innerHTML = '';
      document.getElementById('result').textContent = '';
    }
  </script>
</body>
</html>
